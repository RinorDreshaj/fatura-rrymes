<!DOCTYPE html>
<html>
<head>
	<title>Fatura e rrymes</title>

	<style>
		#app {
			display: flex;
			flex-direction: column;
			width: 280px;
			margin: 0 auto;
		}
		#app > label {
			margin-top: 25px;
		}
	</style>
</head>
<body>


	<div id="app">

		<label>
			A1: <input type="number" v-model="A1">
		</label>
		<label>
			A2: <input type="number" v-model="A2">
		</label>

		<p>Tarifa fikse: <span v-text="tarifa_fikse"></span> Euro</p>
		<p>NETO: <span v-text="neto.toFixed(2)"></span> Euro</p>
		<p>TVSH: <span v-text="calculated_vat.toFixed(2)"></span> Euro</p>
		<p>Pagesa e rrymes eshte: <span v-text="shuma_fatures.toFixed(2)"></span> Euro</p>		
	</div>


<script src="https://unpkg.com/vue@3.0.11"></script>

<script>

const app = Vue.createApp({
    data() {
        return {
        	A1: 0,
        	A2: 0,
        	tarifa_fikse: 1.74,
        	tvsh: 0.08
        }
    },
    computed: {
    	tarifa_energjise() {
    		const A1 = parseFloat(this.A1);
    		const A2 = parseFloat(this.A2);

    		const TOTAL_kWh = A1 + A2;

    		if(TOTAL_kWh <= 800) {
    			return 0.0675 * A1 + 0.0289 * A2
    		}

    		const a11_price = 0.0675 * ((800 * A1)/TOTAL_kWh);
    		const a12_price = 0.1252 * (A1-(800 * A1)/TOTAL_kWh);

    		const a21_price = 0.0289 *((800* A2) / TOTAL_kWh);
    		const a22_price = 0.059 * (A2-(800 * A2)/ TOTAL_kWh)

    		return a11_price + a21_price + a12_price +a22_price;
    	},
    	calculated_vat() {
    		return this.neto * this.tvsh
    	},
    	neto() {
    		return (this.tarifa_fikse + this.tarifa_energjise) || 0
    	},
    	shuma_fatures() {
    		return (this.neto + this.calculated_vat) || 0
    	}
    }
})

app.mount('#app');

</script>
</body>
</html>